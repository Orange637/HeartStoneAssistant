!function(a){function b(b){var c=[].slice.call(arguments,1),d=0;return b=a.event.fix(b||window.event),b.type="mousewheel",b.wheelDelta&&(d=b.wheelDelta/120),b.detail&&(d=-b.detail/3),c.unshift(b,d),a.event.handle.apply(this,c)}var c=["DOMMouseScroll","mousewheel"];a.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=c.length;a;)this.addEventListener(c[--a],b,!1);else this.onmousewheel=b},teardown:function(){if(this.removeEventListener)for(var a=c.length;a;)this.removeEventListener(c[--a],b,!1);else this.onmousewheel=null}},a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})}(jQuery);var scrollBarRatio=0;!function(a){function b(b,c){function d(){return l.update(),f(),l}function e(){r.obj.css(t,k/p.ratio),o.obj.css(t,-k),w.start=r.obj.offset()[t];var a=u.toLowerCase();p.obj.css(a,q[c.axis]),q.obj.css(a,q[c.axis]),r.obj.css(a,r[c.axis])}function f(){r.obj.bind("mousedown",g),r.obj[0].ontouchstart=function(a){return a.preventDefault(),r.obj.unbind("mousedown"),g(a.touches[0]),!1},q.obj.bind("mouseup",j),c.scroll&&this.addEventListener?(m[0].addEventListener("DOMMouseScroll",h,!1),m[0].addEventListener("mousewheel",h,!1)):c.scroll&&(m[0].onmousewheel=h)}function g(b){w.start=s?b.pageX:b.pageY;var c=parseInt(r.obj.css(t));return v.start="auto"==c?0:c,a(document).bind("mousemove",j),document.ontouchmove=function(b){a(document).unbind("mousemove"),j(b.touches[0])},a(document).bind("mouseup",i),r.obj.bind("mouseup",i),r.obj[0].ontouchend=document.ontouchend=function(b){a(document).unbind("mouseup"),r.obj.unbind("mouseup"),i(b.touches[0])},!1}function h(a){if(!(o.ratio>=1)){a=window.event||a;var b=a.wheelDelta?a.wheelDelta/120:-a.detail/3;k-=b*c.wheel,k=Math.min(o[c.axis]-n[c.axis],Math.max(0,k)),r.obj.css(t,k/p.ratio),o.obj.css(t,-k),c.newfun(),null!=c.slideCallback&&c.slideCallback()}}function i(){return a(document).unbind("mousemove",j),a(document).unbind("mouseup",i),r.obj.unbind("mouseup",i),document.ontouchmove=r.obj[0].ontouchend=document.ontouchend=null,!1}function j(a){return o.ratio>=1||(v.now=Math.min(q[c.axis]-r[c.axis],Math.max(0,v.start+((s?a.pageX:a.pageY)-w.start))),k=v.now*p.ratio,o.obj.css(t,-k),r.obj.css(t,v.now),c.newfun(),null!=c.slideCallback&&c.slideCallback()),!1}var k,l=this,m=b,n={obj:a(c.viewportSelector,b)},o={obj:a(c.overviewSelector,b)},p={obj:a(c.scrollbarSelector,b)},q={obj:a(c.trackSelector,p.obj)},r={obj:a(c.thumbSelector,p.obj)},s="x"==c.axis,t=s?"left":"top",u=s?"Width":"Height",v={start:0,now:0},w={};return this.update=function(a){n[c.axis]=n.obj[0]["offset"+u],o[c.axis]=o.obj[0]["scroll"+u],o.ratio=n[c.axis]/o[c.axis],p.obj.toggleClass("disable",o.ratio>=1),q[c.axis]="auto"==c.size?n[c.axis]:c.size,r[c.axis]=Math.min(q[c.axis],Math.max(0,"auto"==c.sizethumb?q[c.axis]*o.ratio:c.sizethumb)),r[c.axis]<c.minThumbSize&&(r[c.axis]=c.minThumbSize,c.sizethumb=c.minThumbSize),p.ratio="auto"==c.sizethumb?o[c.axis]/q[c.axis]:(o[c.axis]-n[c.axis])/(q[c.axis]-r[c.axis]),k="relative"==a&&o.ratio<=1?Math.min(o[c.axis]-n[c.axis],Math.max(0,k)):0,k="bottom"==a&&o.ratio<=1?o[c.axis]-n[c.axis]:isNaN(parseInt(a))?k:parseInt(a),scrollBarRatio=p.ratio,e()},d()}a.tiny=a.tiny||{},a.tiny.scrollbar={options:{axis:"y",wheel:40,scroll:!0,size:"auto",sizethumb:"auto",trackSelector:".track",thumbSelector:".thumb",scrollbarSelector:".scrollbar",viewportSelector:".viewport",overviewSelector:".overview",minThumbSize:50,slideCallback:null,newfun:function(){}}},a.fn.tinyscrollbar=function(c){var c=a.extend({},a.tiny.scrollbar.options,c);return this.each(function(){a(this).data("tsb",new b(a(this),c))}),this},a.fn.tinyscrollbar_update=function(b){return a(this).data("tsb").update(b)}}(jQuery);