!function(a){function b(b,c){var d=this,e=b;a.extend(this,{setModel:function(){var b="<div id='boxModel'></div>",d=a(window).width(),f=a(document).height();a("body").append(b);var g=a("#boxModel");g.width(d).height(f).css("opacity",.7).show(),c.modelClose&&g.live("click",function(){e.remove(),g.remove()})},setPosition:function(){if("string"==typeof e){0!=a("body").find("#popBox").length&&a("#popBox").remove();var b="<div id='popBox'>"+e+"</div>";a("body").append(b),e=a("#popBox")}var d=a(window).width(),f=a(window).height(),g=a(window).scrollTop(),h=e.width(),i=e.height(),j=(d-h)/2,k=(f-i)/2+g,l=(f-i)/2;0>f+g-i&&(k=0,l=0);var m=a.browser.msie&&6==a.browser.version;c.fixed&&!m&&(e.css({position:"fixed"}),k=l),e.css({left:j+"px",top:k+"px"}).show("fast",function(){c.callback()})},setClose:function(){var b="<a class='closeBtn' href='javascript:;'>关闭</a>";e.find(".closeBtn").length||e.append(b),e.find(".closeBtn").live("click",function(){return e.hide(),c.model&&a("#boxModel").remove(),!1}),a("#boxModel").on("click",function(){a("#boxModel").remove(),e.hide()})},setConfirm:function(){{var b="<a class='confirmBtn' href='javascript:;'>"+c.confirmTxt+"</a>";c.confirmUrl}e.append(b),e.find(".confirmBtn").live("click",function(){return e.hide(),c.model&&a("#boxModel").remove(),""===c.confirmUrl?!1:void(location.href=c.confirmUrl)})},setResize:function(){a(window).resize(function(){var b=a("#boxModel");if(b.length){var c=a(window).width();b.width(c)}})},init:function(){this.setPosition(),c.model?d.setModel():"",c.hasClose?d.setClose():"",c.confirmTxt?d.setConfirm():""}}),d.init(),d.setResize()}var c={defaults:{model:!1,hasClose:!0,confirmTxt:"",confirmUrl:"",fixed:!1,modelClose:!0,callback:function(){}}};a.sc2=a.sc2||{},a.sc2.lightBox=function(d,e){e=a.extend({},c.defaults,e),new b(d,e)}}(jQuery);